<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Baiter</title>
    <script src="https://js.puter.com/v2/"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #dc2626;
            --primary-dark: #b91c1c;
            --secondary: #64748b;
            --accent: #f59e0b;
            --bg: #0f172a;
            --bg-secondary: #1e293b;
            --card-bg: #1e293b;
            --text: #f8fafc;
            --text-secondary: #94a3b8;
            --border: #334155;
            --success: #10b981;
            --danger: #ef4444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            font-size: 14px;
        }

        .auth-section {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .login-btn, .logout-btn {
            padding: 12px 20px;
            border: 1px solid var(--primary);
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            background: var(--primary);
            color: white;
            margin: 0;
        }

        .login-btn.hidden { display: none !important; }
        .login-btn:hover, .logout-btn:hover { opacity: 0.9; }

        .logout-btn {
            background: var(--danger);
            border-color: var(--danger);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: var(--card-bg);
            border-radius: 6px;
            border: 1px solid var(--border);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        .hero-section {
            text-align: center;
            padding: 80px 0 60px;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 900;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-transform: uppercase;
            letter-spacing: -2px;
        }

        .generate-section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 50px;
            text-align: center;
        }

        .generate-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text);
        }

        .generate-subtitle {
            color: var(--text-secondary);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .generate-btn {
            padding: 20px 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
        }

        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(220, 38, 38, 0.4);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-loader {
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-section {
            margin-top: 50px;
        }

        .results-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 40px;
            color: var(--primary);
            text-transform: uppercase;
        }

        .results-grid {
            display: grid;
            gap: 20px;
            grid-template-columns: 1fr;
        }

        .result-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 24px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--primary);
        }

        .roast-number {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .roast-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 20px;
            color: var(--text);
            background: var(--bg);
            padding: 24px;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            font-weight: 600;
        }

        .copy-btn {
            width: 100%;
            padding: 14px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            font-size: 14px;
            text-transform: uppercase;
        }

        .copy-btn:hover { background: #475569; }
        .copy-btn.copied { background: var(--success); }

        .toast {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--card-bg);
            color: var(--text);
            padding: 16px 24px;
            border-radius: 12px;
            border: 1px solid var(--border);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: all 0.3s ease;
            font-weight: 500;
            opacity: 0;
        }

        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }

        .toast.success {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .toast.error {
            border-color: var(--danger);
            background: rgba(239, 68, 68, 0.1);
        }

        .hidden { display: none !important; }

        @media (max-width: 768px) {
            .hero-title { font-size: 2.8rem; }
            .generate-section { padding: 30px 20px; }
        }
    </style>
</head>
<body>
    <div class="auth-section">
        <button id="loginBtn" class="login-btn">Connect</button>
        <div id="userInfo" class="user-info hidden">
            <div class="status-dot"></div>
            <span id="userName"></span>
            <button id="logoutBtn" class="logout-btn">Logout</button>
        </div>
    </div>

    <div class="container">
        <section class="hero-section">
            <h1 class="hero-title">Ragebait 'em</h1>
        </section>

        <section class="generate-section">
            <h2 class="generate-title">Ragebait 'em</h2>
            <p class="generate-subtitle">Imagine being so unemployed you gotta use ts ðŸ¥€</p>
            
            <button id="generateBtn" class="generate-btn" disabled>
                <span class="btn-text">bait 'em all</span>
                <div class="btn-loader hidden"></div>
            </button>
        </section>

        <section class="results-section">
            <div id="resultsContainer" class="results-container hidden">
                <h2 class="results-title">Here you go gng</h2>
                <div class="results-grid" id="resultsGrid"></div>
            </div>
        </section>
    </div>

    <div id="toast" class="toast"></div>

    <script>
        var ToxicRoastApp = {
            state: {
                loggedIn: false,
                user: null,
                loading: false,
                count: 0
            },
            
            el: {},
            
            start: function() {
                this.getElements();
                this.bindEvents();
                this.checkAuth();
            },
            
            getElements: function() {
                this.el.loginBtn = document.getElementById('loginBtn');
                this.el.logoutBtn = document.getElementById('logoutBtn');
                this.el.userInfo = document.getElementById('userInfo');
                this.el.userName = document.getElementById('userName');
                this.el.generateBtn = document.getElementById('generateBtn');
                this.el.btnText = document.querySelector('.btn-text');
                this.el.btnLoader = document.querySelector('.btn-loader');
                this.el.resultsContainer = document.getElementById('resultsContainer');
                this.el.resultsGrid = document.getElementById('resultsGrid');
                this.el.toast = document.getElementById('toast');
            },
            
            bindEvents: function() {
                var self = this;
                
                this.el.loginBtn.onclick = function() { self.login(); };
                this.el.logoutBtn.onclick = function() { self.logout(); };
                this.el.generateBtn.onclick = function() { self.generate(); };
                
                document.onclick = function(e) {
                    if (e.target.classList.contains('copy-btn')) {
                        var text = e.target.getAttribute('data-text');
                        self.copyText(text, e.target);
                    }
                };
            },
            
            checkAuth: function() {
                this.state.loggedIn = false;
                this.state.user = null;
                this.updateUI();
            },
            
            login: function() {
                var self = this;
                this.el.loginBtn.disabled = true;
                this.el.loginBtn.textContent = 'Connecting...';
                
                try {
                    puter.auth.signIn().then(function(result) {
                        return puter.auth.getUser();
                    }).then(function(user) {
                        self.state.loggedIn = true;
                        self.state.user = user;
                        self.updateUI();
                        self.notify('Connected successfully!', 'success');
                    }).catch(function(error) {
                        self.resetLogin();
                        self.notify('Connection failed', 'error');
                    });
                } catch (e) {
                    this.resetLogin();
                    this.notify('Login error', 'error');
                }
            },
            
            logout: function() {
                var self = this;
                
                if (puter.auth && puter.auth.signOut) {
                    try {
                        puter.auth.signOut().then(function() {
                            self.forceLogout();
                        }).catch(function() {
                            self.forceLogout();
                        });
                    } catch (e) {
                        this.forceLogout();
                    }
                } else {
                    this.forceLogout();
                }
            },
            
            forceLogout: function() {
                this.state.loggedIn = false;
                this.state.user = null;
                this.updateUI();
                this.notify('Logged out', 'success');
            },
            
            resetLogin: function() {
                this.el.loginBtn.disabled = false;
                this.el.loginBtn.textContent = 'Connect';
            },
            
            updateUI: function() {
                if (this.state.loggedIn && this.state.user) {
                    this.el.loginBtn.classList.add('hidden');
                    this.el.userInfo.classList.remove('hidden');
                    this.el.userName.textContent = this.state.user.username || 'User';
                    this.el.generateBtn.disabled = false;
                } else {
                    this.el.loginBtn.classList.remove('hidden');
                    this.el.userInfo.classList.add('hidden');
                    this.el.generateBtn.disabled = true;
                    this.resetLogin();
                }
            },
            
            // ðŸ”¥ FIXED: Skip AI entirely since it keeps timing out - just use toxic offline content
            generate: function() {
                if (!this.state.loggedIn || this.state.loading) {
                    this.notify('Please connect first', 'error');
                    return;
                }
                
                var self = this;
                this.setLoading(true);
                this.state.count++;
                
                // Skip AI - Puter AI is too slow/unreliable
                // Use ultra-toxic offline content instead
                setTimeout(function() {
                    var toxicRoasts = self.getUltraToxicRoasts();
                    self.showRoasts(toxicRoasts);
                    self.notify('Generated toxic af roasts! Set #' + self.state.count, 'success');
                    self.setLoading(false);
                }, 1000); // 1 second fake loading for better UX
            },
            
            // ðŸ”¥ ULTRA TOXIC ROASTS WITH SLANG AND HARSH LANGUAGE
            getUltraToxicRoasts: function() {
                var ultraToxicSets = [
                    // Career/job disasters
                    [
                        "Bruh your career is more dead than your social life, and that's saying some wild shit right there fr fr.",
                        "You're so unemployed you make welfare recipients feel accomplished, deadass pathetic ngl bro.",
                        "Your work ethic is trash tier garbage and your boss probably cries at night thinking about hiring you.",
                        "Damn you really thought you could get a job? That's cute af, reality bout to humble you real quick.",
                        "You're basically a professional disappointment with zero skills, just taking up space and oxygen fr."
                    ],
                    // Social disasters
                    [
                        "Your social skills are so dogwater that even introverts feel bad for you, straight up embarrassing shit.",
                        "Bro really thinks people like talking to him when everyone's just being polite, delusion is unreal fr.",
                        "You make awkward silences feel comfortable compared to your cringe ass personality, it's actually impressive.",
                        "Damn you're so socially disabled that therapists need therapy after meeting you, that's some next level shit.",
                        "Your vibe is so off-putting that strangers cross the street, and honestly they got the right idea ngl."
                    ],
                    // Dating/relationship failures
                    [
                        "Your dating life is more tragic than your bank account, and we both know that's broke af.",
                        "You're so romantically hopeless that dating apps should ban you for false advertising, straight fraud fr.",
                        "Damn your pickup game is weaker than your WiFi signal, absolutely zero rizz whatsoever bro.",
                        "You really thought someone would love you? That's the funniest joke I've heard all year ngl.",
                        "Your relationship status is permanently single because nobody wants to deal with your toxic ass energy fr."
                    ],
                    // Appearance roasts
                    [
                        "Bro your face looks like genetics gave up halfway through, absolutely cursed DNA sequence fr fr.",
                        "You're so ugly that mirrors crack and your camera app crashes, technology can't handle your face.",
                        "Damn you really got hit with the ugly stick repeatedly, generational trauma type beat right there.",
                        "Your looks are so busted that makeup artists quit their jobs, straight up career-ending stuff ngl.",
                        "You make blind people grateful for their condition, that's some next level unfortunate genetics bro."
                    ],
                    // Intelligence/stupidity roasts
                    [
                        "Your IQ is lower than room temperature in Antarctica, genuinely impressive stupidity levels fr fr.",
                        "Bro you're so dumb that Google can't even help you, search results just show error messages.",
                        "Your brain runs on Internet Explorer while everyone else got 5G, outdated af processing power ngl.",
                        "Damn you make goldfish look like Harvard graduates, absolutely zero brain cells firing up there.",
                        "You're living proof that natural selection sometimes takes extended lunch breaks, evolutionary mistake type shit."
                    ],
                    // Lifestyle/laziness roasts
                    [
                        "Your laziness is so legendary that sloths study you for motivation tips, scientific breakthrough type energy.",
                        "Bro you're so unmotivated that even your dreams gave up on you, subconscious level disappointment fr.",
                        "Your productivity levels make retired people look hyperactive, absolutely zero life momentum whatsoever ngl.",
                        "Damn you treat ambition like it's radioactive, won't go near success even with protective gear.",
                        "You're basically a human-shaped couch potato with WiFi access, contributing nothing to society fr fr."
                    ],
                    // Personality disasters
                    [
                        "Your personality is more toxic than Chernobyl radiation, absolutely hazardous to human health fr.",
                        "Bro you're so annoying that noise-canceling headphones were invented specifically for your voice.",
                        "Your energy is so negative that solar panels short-circuit around you, renewable energy can't compete ngl.",
                        "Damn you make root canals seem enjoyable, dentists probably use you as anesthesia replacement.",
                        "You're the human equivalent of stepping on Legos barefoot while hungover, pure concentrated misery fr fr."
                    ],
                    // Social media/online presence
                    [
                        "Your social media is so cringe that algorithms try to delete themselves, AI suicide rates through the roof.",
                        "Bro your posts are so bad that followers uninstall apps, you're killing entire platforms single-handedly ngl.",
                        "Your online presence is digital cancer, websites need chemotherapy after you visit them fr fr.",
                        "Damn your content is so trash that TikTok kids have better takes, and they eat Tide Pods.",
                        "You make comment sections look intelligent by comparison, raising the average IQ just by leaving fr."
                    ],
                    // Life failures
                    [
                        "Your existence is basically a warning label for what not to do with life, cautionary tale energy.",
                        "Bro you're so unsuccessful that participation trophies feel embarrassed being associated with you ngl.",
                        "Your life achievements fit on a fortune cookie slip with room for actual fortunes, microscopic impact fr.",
                        "Damn you make failure look like an art form, master class in how to waste oxygen efficiently.",
                        "You're living proof that some people peaked in the womb, downhill trajectory since conception fr fr."
                    ],
                    // Financial disasters
                    [
                        "Your bank account is so broke that debt collectors feel bad for you, charity case level poverty.",
                        "Bro you're so poor that free samples are your main source of nutrition, survival mode activated ngl.",
                        "Your credit score is lower than your self-esteem, and we both know that's underground level shit.",
                        "Damn you make homeless people grateful for their financial stability, reverse inspiration type energy fr.",
                        "You're so financially illiterate that calculators crash when you use them, mathematical impossibility achieved."
                    ]
                ];
                
                return ultraToxicSets[this.state.count % ultraToxicSets.length];
            },
            
            showRoasts: function(roasts) {
                this.el.resultsGrid.innerHTML = '';
                
                for (var i = 0; i < roasts.length; i++) {
                    var card = document.createElement('div');
                    card.className = 'result-card';
                    
                    card.innerHTML = '<div class="roast-number">Roast #' + (i + 1) + '</div>' +
                                   '<div class="roast-text">' + roasts[i] + '</div>' +
                                   '<button class="copy-btn" data-text="' + roasts[i] + '">Copy Roast</button>';
                    
                    this.el.resultsGrid.appendChild(card);
                }
                
                this.el.resultsContainer.classList.remove('hidden');
                
                var self = this;
                setTimeout(function() {
                    self.el.resultsContainer.scrollIntoView({behavior: 'smooth'});
                }, 200);
            },
            
            copyText: function(text, button) {
                var self = this;
                
                try {
                    if (navigator.clipboard && navigator.clipboard.writeText) {
                        navigator.clipboard.writeText(text).then(function() {
                            self.showCopied(button);
                            self.notify('Copied that toxic shit!', 'success');
                        }).catch(function() {
                            self.fallbackCopy(text, button);
                        });
                    } else {
                        this.fallbackCopy(text, button);
                    }
                } catch (e) {
                    this.fallbackCopy(text, button);
                }
            },
            
            fallbackCopy: function(text, button) {
                var textarea = document.createElement('textarea');
                textarea.value = text;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                this.showCopied(button);
                this.notify('Copied!', 'success');
            },
            
            showCopied: function(button) {
                var original = button.textContent;
                button.textContent = 'âœ“ Copied!';
                button.classList.add('copied');
                
                setTimeout(function() {
                    button.textContent = original;
                    button.classList.remove('copied');
                }, 1500);
            },
            
            setLoading: function(loading) {
                this.state.loading = loading;
                
                if (loading) {
                    this.el.generateBtn.disabled = true;
                    this.el.btnText.classList.add('hidden');
                    this.el.btnLoader.classList.remove('hidden');
                } else {
                    this.el.generateBtn.disabled = !this.state.loggedIn;
                    this.el.btnText.classList.remove('hidden');
                    this.el.btnLoader.classList.add('hidden');
                }
            },
            
            notify: function(message, type) {
                var self = this;
                
                this.el.toast.className = 'toast';
                this.el.toast.style.opacity = '0';
                
                setTimeout(function() {
                    self.el.toast.textContent = message;
                    self.el.toast.classList.add(type || 'info');
                    
                    setTimeout(function() {
                        self.el.toast.classList.add('show');
                        self.el.toast.style.opacity = '1';
                    }, 50);
                    
                    setTimeout(function() {
                        self.el.toast.classList.remove('show');
                        self.el.toast.style.opacity = '0';
                    }, 3500);
                }, 100);
            }
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            ToxicRoastApp.start();
        });
    </script>
</body>
</html>
